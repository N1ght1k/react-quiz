(this["webpackJsonpreact-quiz"]=this["webpackJsonpreact-quiz"]||[]).push([[0],{78:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);n(50),n(51),n(52);var c=n(0),a=n(27),r=n.n(a),s=(n(78),n(11)),i=n(2),o=n(1),u=function(){return Object(o.jsxs)("nav",{className:"navbar navbar-dark bg-primary navbar-expand-lg",children:[Object(o.jsx)("div",{className:"navbar-brand",children:"\u041f\u044b\u0449\u044c"}),Object(o.jsxs)("ul",{className:"navbar-nav",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(s.c,{exact:!0,to:"/",className:"nav-link",children:"\u041e\u043f\u0440\u043e\u0441\u044b"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(s.c,{to:"/auth",className:"nav-link",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(s.c,{to:"/quiz-creator",className:"nav-link",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u043f\u0440\u043e\u0441"})})]})]})},l=n(7),d=n(10),b=n.n(d),j=n(4),m=function(){var e=Object(j.c)((function(e){return e.activeQuiz.quiz.header}));return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{className:"text-center",children:e.name}),Object(o.jsx)("p",{className:"text-center fs-4",children:e.description})]})},h="CREATE_QUIZ",p="CHANGE_QUIZ_NAME",f="CHANGE_QUIZ_DESCRIPTION",x="ADD_QUESTION",O="CHANGE_ACTIVE_FORM",v="CHANGE_QUESTIONS",y="CHANGE_ACTIVE_ANSWER",N="ADD_ANSWER",w="ADD_OTHER",g="DEL_ANSWER",q="DEL_OTHER",_="SET_EDIT",k="SET_QUIZES",E="SET_ACTIVE_QUIZ",T="CHANGE_TITLE",z="CHANGE_TEXT",C="CHANGE_TYPE",A="CHANGE_ANSWER",S="CHANGE_REQUIRE",I="CHANGE_OTHER_TEXT",F="SET_DEFAULT_ANSWER",Q="SET_ALERT",D="CHANGE_EMPTY_ANSWERS",R="RESET_DESIGNER",H="SET_DEL_QUIZ";function G(e){return{type:y,payload:e}}function L(e){return{type:Q,payload:e}}var U=function(e){var t=Object(j.b)(),n=(Object(j.c)((function(e){return e.activeQuiz.quiz})),Object(j.c)((function(e){return e.activeQuiz.quizAnswer})).answers),c=n.find((function(t){return t.questionNumber===e.number}));function a(a,r){if("answer"===r)if(c){var s=n.indexOf(c);if(0===c.answer.length)n[s].answer.push(a.target.value),t(G(n));else if(n[s].answer.includes(a.target.value)){var i=n[s].answer.indexOf(a.target.value);n[s].answer.splice(i,1),t(G(n))}else n[s].answer.push(a.target.value),t(G(n))}else{var o={questionNumber:e.number,answer:[a.target.value],otherText:""};n.push(o),t(G(n))}if("otherText"===r&&c){var u=n.indexOf(c);n[u].otherText=a.target.value,t(G(n))}}return Object(o.jsxs)(o.Fragment,{children:[e.answers.map((function(t,n){return Object(o.jsxs)("div",{className:"form-check",children:[Object(o.jsx)("input",{type:"checkbox",className:"form-check-input",name:"question_".concat(e.number),value:t,id:"answer_".concat(e.number,"_").concat(n+1),checked:!!c.answer.includes(t),onChange:function(e){return a(e,"answer")}},"input_".concat(e.number,"_").concat(n+1)),Object(o.jsx)("label",{className:"form-check-label",htmlFor:"answer_".concat(e.number,"_").concat(n+1),children:t},"label_".concat(e.number,"_").concat(n+1))]})})),e.other?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"form-check",children:[Object(o.jsx)("input",{type:"checkbox",className:"form-check-input",name:"question_".concat(e.number),value:e.otherText,id:"answer_".concat(e.number,"_other"),checked:!!c.answer.includes(e.otherText),onChange:function(e){return a(e,"answer")}}),Object(o.jsx)("label",{className:"form-check-label",htmlFor:"answer_".concat(e.number,"_other"),children:e.otherText})]}),Object(o.jsx)("textarea",{className:"form-control mt-2",rows:"2",name:"description",disabled:!c.answer.includes(e.otherText),onChange:function(e){return a(e,"otherText")}})]}):null]})},B=function(e){var t=Object(j.b)(),n=(Object(j.c)((function(e){return e.activeQuiz.quiz})),Object(j.c)((function(e){return e.activeQuiz.quizAnswer})).answers),c=n.find((function(t){return t.questionNumber===e.number}));function a(a,r){if("answer"===r)if(c){var s=n.indexOf(c);0===c.answer.length?(n[s].answer.push(a.target.value),t(G(n))):(n[s].answer=[a.target.value],t(G(n)))}else{var i={questionNumber:e.number,answer:[a.target.value],otherText:""};n.push(i),t(G(n))}if("otherText"===r&&c){var o=n.indexOf(c);n[o].otherText=a.target.value,t(G(n))}}return Object(o.jsxs)("div",{children:[e.answers.map((function(t,n){return Object(o.jsxs)("div",{className:"form-check",children:[Object(o.jsx)("input",{type:"radio",className:"form-check-input",name:"question_".concat(e.number),value:t,id:"answer_".concat(e.number,"_").concat(n+1),checked:!!c.answer.includes(t),onChange:function(e){return a(e,"answer")}},"input_".concat(e.number,"_").concat(n+1)),Object(o.jsx)("label",{className:"form-check-label",htmlFor:"answer_".concat(e.number,"_").concat(n+1),children:t},"label_".concat(e.number,"_").concat(n+1))]})})),e.other?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"form-check",children:[Object(o.jsx)("input",{type:"radio",className:"form-check-input",name:"question_".concat(e.number),value:e.otherText,id:"answer_".concat(e.number,"_other"),checked:!!c.answer.includes(e.otherText),onChange:function(e){return a(e,"answer")}}),Object(o.jsx)("label",{className:"form-check-label",htmlFor:"answer_".concat(e.number,"_other"),children:e.otherText})]}),Object(o.jsx)("textarea",{className:"form-control mt-2",rows:"2",name:"description",disabled:!c.answer.includes(e.otherText),onChange:function(e){return a(e,"otherText")}})]}):null]})},P=function(e){return"single"===e.type?Object(o.jsxs)("div",{className:"mt-4",children:[Object(o.jsx)("h5",{children:"".concat(e.number,". ").concat(e.title).concat(e.required?"*":null)}),Object(o.jsx)("p",{className:"mb-2 fw-light fs-6",children:e.text}),Object(o.jsx)(B,{number:e.number,answers:e.answers,other:e.other,otherText:e.otherText})]}):"multiple"===e.type?Object(o.jsxs)("div",{className:"mt-4",children:[Object(o.jsx)("h5",{children:"".concat(e.number,". ").concat(e.title).concat(e.required?"*":null)}),Object(o.jsx)("p",{className:"mb-2 fw-light fs-6",children:e.text}),Object(o.jsx)(U,{number:e.number,answers:e.answers,other:e.other,otherText:e.otherText})]}):void 0},V=function(){var e=Object(j.c)((function(e){return e.activeQuiz.quiz})).questions;return Object(o.jsx)(o.Fragment,{children:e.map((function(e,t){return Object(o.jsx)(P,{title:e.title,type:e.questionType,required:e.required,text:e.text,answers:e.answers,number:e.questionNumber,other:e.other,otherText:e.otherText},t)}))})},Z=n(6),W=n.n(Z),X=n(15),M="http://31.181.186.42:8080",J={postAnswer:function(){var e=Object(X.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post(M+"/api/answers",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Y=J,K={getQuizes:function(){var e=Object(X.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get(M+"/api/quizes");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),getQuiz:function(){var e=Object(X.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get(M+"/api/quizes/"+t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),delQuiz:function(){var e=Object(X.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.delete(M+"/api/quizes/"+t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),postQuiz:function(){var e=Object(X.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post(M+"/api/quizes",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),patchQuiz:function(){var e=Object(X.a)(W.a.mark((function e(t,n){var c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.patch(M+"/api/quizes/"+t,n);case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},$=K,ee=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"w-25 mb-4",children:Object(o.jsx)("img",{src:"".concat(M,"/images/check.png"),className:"img-fluid",alt:"OK"})}),Object(o.jsx)("h1",{className:"text-center",children:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0432 \u043e\u043f\u0440\u043e\u0441\u0435!"}),Object(o.jsx)(s.b,{to:"/",className:"link-secondary text-center mt-4",children:"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u043e\u043f\u0440\u043e\u0441\u043e\u0432"})]})},te=function(){var e=Object(i.g)(),t=Object(j.c)((function(e){return e.activeQuiz})),n=t.quiz,a=t.quizAnswer,r=a.answers,s=t.alert,u=t.emptyAnswers,d=Object(c.useRef)(null),b=Object(c.useState)(!1),h=Object(l.a)(b,2),p=h[0],f=h[1],x=Object(j.b)();Object(i.f)();function O(e){e.preventDefault(),u.length=0;var t=[];n.questions.forEach((function(e){e.required&&t.push(e.questionNumber)})),r.forEach((function(e){t.includes(e.questionNumber)&&0===e.answer.length&&u.push(e.questionNumber)})),x(function(e){return{type:D,payload:e}}(u)),0!==u.length?(x(L(!0)),d.current.scrollIntoView()):(x(L(!1)),Y.postAnswer(a).then((function(e){"success"===e&&f(!0)})).catch((function(e){console.log(e)})))}function v(){$.getQuiz(e.id).then((function(e){!function(e){console.log("ololo");var t={quizId:e._id,answers:[]};e.questions.forEach((function(e){t.answers.push({questionNumber:e.questionNumber,answer:[],otherText:""})})),x(function(e){return{type:F,payload:e}}(t))}(e),x(function(e){return{type:E,payload:e}}(e))})).catch((function(e){console.log(e)}))}return Object(c.useEffect)((function(){v()}),[]),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row justify-content-center",children:p?Object(o.jsx)(ee,{}):Object(o.jsxs)("div",{className:"col-5",children:[" ",Object(o.jsx)("div",{ref:d,children:s?Object(o.jsx)("div",{className:"alert alert-warning",role:"alert",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b ".concat(u.toString())}):null}),Object(o.jsx)(m,{}),Object(o.jsx)(V,{}),Object(o.jsx)("div",{className:"d-flex justify-content-center",children:Object(o.jsx)("button",{type:"button",className:"mt-4 mb-4 w-50 btn btn-success",onClick:function(e){return O(e)},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})})},ne=function(){var e=Object(j.c)((function(e){return e.quizes})).delQuizId;return Object(o.jsx)("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(o.jsx)("div",{className:"modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("h5",{className:"modal-title",id:"staticBackdropLabel",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"}),Object(o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]}),Object(o.jsx)("div",{className:"modal-body",children:"\u041e\u043f\u0440\u043e\u0441 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u043e\u0442\u0432\u0435\u0442\u0430\u043c\u0438 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0451\u043d. \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e"}),Object(o.jsxs)("div",{className:"modal-footer",children:[Object(o.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(o.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(){$.delQuiz(e).then((function(e){window.location.reload()})).catch((function(e){console.log(e)}))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u043f\u0440\u043e\u0441"})]})]})})})},ce=n(19);var ae=function(e){var t=Object(j.b)();return Object(o.jsxs)("div",{className:"d-flex ms-2",children:[Object(o.jsx)("div",{children:Object(o.jsx)(s.b,{className:"m-1",to:"results/"+e.quizId,rel:"noopener noreferrer",children:Object(o.jsx)(ce.a,{})})}),Object(o.jsx)("div",{children:Object(o.jsx)(s.b,{className:"m-1",to:"edit/"+e.quizId,rel:"noopener noreferrer",children:Object(o.jsx)(ce.b,{})})}),Object(o.jsx)("div",{type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",onClick:function(){return t((n=e.quizId,{type:H,payload:n}));var n},children:Object(o.jsx)(ce.d,{})})]})},re=n(28),se=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(j.b)(),i=Object(j.c)((function(e){return e.quizes.quizes}));function u(){$.getQuizes().then((function(e){a(!1),r(function(e){return{type:k,payload:e}}(e))})).catch((function(e){console.log(e)}))}return Object(c.useEffect)((function(){u()}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{children:Object(o.jsx)(re.a,{type:"Plane",color:"#00BFFF",height:100,width:100,visible:n})}),Object(o.jsx)("ul",{className:"list-group list-group-flush",children:i.map((function(e,t){return Object(o.jsxs)("li",{className:"d-flex list-group-item p-1",children:[Object(o.jsx)(s.b,{to:"/quiz/".concat(e.id),className:"link-secondary",children:"".concat(t+1,". ").concat(e.name)}),Object(o.jsx)(ae,{quizId:e.id})]},e.id)}))})]})},ie=function(){return Object(o.jsxs)("div",{className:"row justify-content-md-center",children:[Object(o.jsx)(ne,{}),Object(o.jsxs)("div",{className:"col-md-auto",children:[Object(o.jsx)("h3",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u043f\u0440\u043e\u0441\u043e\u0432:"}),Object(o.jsx)(se,{})]})]})},oe=n(9),ue=n(3),le=function(){var e=Object(c.useState)({username:"",password:""}),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),u=(s[0],s[1]),d=(Object(i.f)(),function(e){var t=e.currentTarget;a(Object(ue.a)(Object(ue.a)({},n),{},Object(oe.a)({},t.name,t.value)))}),j=function(){var e=Object(X.a)(W.a.mark((function e(t){var c,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,"http://localhost:8080/api/auth",e.next=5,b.a.post("http://localhost:8080/api/auth",n);case 5:c=e.sent,a=c.data,localStorage.setItem("token",a.data),window.location="/",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response&&e.t0.response.status>=400&&e.t0.response.status<=500&&u(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("form",{className:"col-md-6 mx-auto",onSubmit:j,children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{for:"login",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",onChange:d,value:n.username,required:!0,placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{for:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(o.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",onChange:d,value:n.password,required:!0,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})]}),Object(o.jsx)("div",{className:"d-grid gap-2 mt-2",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(o.jsx)("div",{className:"d-grid gap-2 mt-2",children:Object(o.jsx)("button",{className:"btn btn-primary",onClick:function(){localStorage.removeItem("token"),window.location.reload()},children:"\u0412\u044b\u0439\u0442\u0438"})})]})},de=function(){var e=Object(c.useState)({username:"",password:""}),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),u=(s[0],s[1]),d=(Object(i.f)(),function(e){var t=e.currentTarget;a(Object(ue.a)(Object(ue.a)({},n),{},Object(oe.a)({},t.name,t.value)))}),j=function(){var e=Object(X.a)(W.a.mark((function e(t){var c,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,"http://localhost:8080/api/users",e.next=5,b.a.post("http://localhost:8080/api/users",n);case 5:c=e.sent,a=c.data,console.log(a.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response&&e.t0.response.status>=400&&e.t0.response.status<=500&&u(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("form",{className:"col-md-6 mx-auto",onSubmit:j,children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{for:"login",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",onChange:d,value:n.username,required:!0,placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{for:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(o.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",onChange:d,value:n.password,required:!0,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})]}),Object(o.jsx)("div",{className:"d-grid gap-2 mt-2",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]})};function be(e){return{type:O,payload:e}}function je(){return{type:R}}var me=function(){var e=Object(j.c)((function(e){return e.create.header})),t=Object(j.b)();return Object(o.jsxs)("form",{className:"m-auto p-5 border border-primary rounded w-75",children:[Object(o.jsx)("input",{type:"text",className:"form-control m-2",name:"title",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u043f\u0440\u043e\u0441\u0430",value:e.name,onChange:function(e){return t((n=e.target.value,{type:p,payload:n}));var n}}),Object(o.jsx)("textarea",{className:"form-control m-2",rows:"5",name:"description",placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0441\u044e\u0434\u0430",value:e.description,onChange:function(e){return t((n=e.target.value,{type:f,payload:n}));var n}})]})},he=n(13),pe=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.create})),n=Object(he.a)(t.questions),c=t.activeForm,a=n[c-1],r=a.answers,s=a.title,i=a.text,u=a.questionType,l=a.other,d=a.otherText,b=a.required;function m(t,n,a){var r=t.target.value;"title"===n&&e({type:T,payload:{index:c-1,title:r}}),"text"===n&&e(function(e){return{type:z,payload:e}}({index:c-1,text:r})),"answer"===n&&e(function(e){return{type:A,payload:e}}({indexQuestion:c-1,indexAnswer:a,answer:r})),"type"===n&&e(function(e){return{type:C,payload:e}}({index:c-1,type:r})),"required"===n&&e(function(e){return{type:S,payload:e}}({index:c-1,required:!b})),"otherText"===n&&e(function(e){return{type:I,payload:e}}({index:c-1,otherText:r}))}function h(){var t;e((t={index:c-1,answer:"\u041e\u0442\u0432\u0435\u0442 ".concat(r.length+1)},{type:N,payload:t}))}function p(){e({type:w,payload:{index:c-1,other:!0}})}function f(t){e({type:g,payload:{indexQuestion:c-1,indexAnswer:t}})}function x(){e({type:q,payload:{index:c-1,other:!1}})}return Object(o.jsxs)("form",{className:"m-auto mb-5 p-5 border border-primary rounded",children:[Object(o.jsxs)("div",{className:"form-check",children:[Object(o.jsx)("input",{className:"form-check-input",type:"radio",name:"quiz-type",value:"single",id:"single",onChange:function(e){return m(e,"type")},checked:"single"===u}),Object(o.jsx)("label",{className:"form-check-label",htmlFor:"single",children:"\u041e\u0434\u0438\u043d\u043e\u0447\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440"})]}),Object(o.jsxs)("div",{className:"form-check",children:[Object(o.jsx)("input",{className:"form-check-input",type:"radio",name:"quiz-type",value:"multiple",id:"multiple",onChange:function(e){return m(e,"type")},checked:"multiple"===u}),Object(o.jsx)("label",{className:"form-check-label",htmlFor:"multiple",children:"\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440"})]}),Object(o.jsx)("div",{className:"mt-3 mb-1 d-grid",children:Object(o.jsx)("input",{type:"text",className:"form-control-lg border border-light border-1",name:"title",value:s,onChange:function(e){return m(e,"title")}},"title_".concat(c-1))}),Object(o.jsx)("div",{className:"mb-3 d-grid",children:Object(o.jsx)("input",{type:"text",className:"form-control-sm border border-light border-1",value:i,name:"text",onChange:function(e){return m(e,"text")}},"text_".concat(c-1))}),Object(o.jsx)("div",{className:"mb-3 d-flex flex-column",children:r.map((function(e,t){return Object(o.jsxs)("div",{className:"mb-2 d-flex justify-content-between align-items-center",children:[Object(o.jsx)("input",{type:"text",className:"form-control border border-light border-1",value:e,name:"question_ + ".concat(t+1),onChange:function(e){return m(e,"answer",t)}},"answer_".concat(c-1,"_").concat(t)),0!==t?Object(o.jsx)("div",{className:"mb-2 ms-2",onClick:function(){return f(t)},children:Object(o.jsx)(ce.c,{})}):null]},"".concat(c-1,"_").concat(t))}))}),l?Object(o.jsxs)("div",{className:"input-group mb-1",children:[Object(o.jsx)("input",{type:"text",className:"form-control",value:d,onChange:function(e){return m(e,"otherText")}}),Object(o.jsx)("input",{type:"text",className:"form-control",disabled:!0}),Object(o.jsx)("div",{className:"mb-2 ms-2",onClick:function(){return x()},children:Object(o.jsx)(ce.c,{})})]}):null,Object(o.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-start mt-3",children:[Object(o.jsx)("button",{className:"btn btn-outline-primary rounded-pill",type:"button",onClick:function(){return h()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442"}),l?null:Object(o.jsx)("button",{className:"btn btn-outline-primary rounded-pill",type:"button",onClick:function(){return p()},children:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442 - "\u0414\u0440\u0443\u0433\u043e\u0439"'})]}),Object(o.jsxs)("div",{className:"form-check mt-3",children:[Object(o.jsx)("input",{className:"form-check-input",type:"checkbox",id:"required-checkbox",onChange:function(e){return m(e,"required")},checked:b}),Object(o.jsx)("label",{className:"form-check-label",htmlFor:"required-checkbox",children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439"})]})]})},fe=function(){var e=Object(j.c)((function(e){return e.create})),t=e.activeForm,n=Object(he.a)(e.questions),c=Object(j.b)(),a=Object(i.f)(),r=Object(i.g)(),s={questionNumber:n.length+1,questionType:"single",required:!0,other:!1,title:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u0437\u0434\u0435\u0441\u044c...",text:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u043e\u0442\u0432\u0435\u0442",answers:["\u041e\u0442\u0432\u0435\u0442 1","\u041e\u0442\u0432\u0435\u0442 2","\u041e\u0442\u0432\u0435\u0442 3"],otherText:"\u0414\u0440\u0443\u0433\u043e\u0439..."};function u(){n.push(s),c(function(e){return{type:x,payload:e}}(n)),c(be(n.length))}function l(e){var a=n.find((function(t){return t.questionNumber===e})),r=n.indexOf(a);console.log(r),n.splice(r,1),n.forEach((function(e,t){return e.questionNumber=t+1})),console.log(n),t===e&&c(be(e-1)),c(function(e){return{type:v,payload:e}}(n))}var d=function(){var t=Object(X.a)(W.a.mark((function t(){var n,s;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.edit){t.next=8;break}return t.next=3,b.a.patch("http://localhost:8080/api/quizes/".concat(r.id),e).catch((function(e){console.log("Err",e)}));case 3:n=t.sent,console.log(n),"success"===n.data&&(c(je()),a("/")),t.next=13;break;case 8:return t.next=10,b.a.post("http://localhost:8080/api/quizes",e).catch((function(e){console.log("Err",e)}));case 10:s=t.sent,console.log(s),"success"===s.data&&(c(je()),a("/"));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"d-flex flex-column",children:[Object(o.jsx)("button",{type:"button",className:"w-100 btn btn-warning btn-sm mb-2",onClick:function(){return c(be(0))},children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),n.map((function(e,n){return Object(o.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(o.jsx)("button",{type:"button",className:e.questionNumber===t?"mb-2 flex-grow-1 btn btn-outline-info btn-sm bg-primary text-white":"mb-2 flex-grow-1 btn btn-outline-info btn-sm",onClick:function(){return c(be(e.questionNumber))},children:e.questionNumber},n),1!==e.questionNumber?Object(o.jsx)("div",{className:"mb-2 ms-2",onClick:function(){return l(e.questionNumber)},children:Object(o.jsx)(ce.c,{})}):null]})})),Object(o.jsx)("button",{type:"button",className:"w-100 btn btn-info btn-sm mb-2",onClick:function(){return u()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"}),Object(o.jsx)("button",{type:"button",className:"w-100 btn btn-success btn-sm",onClick:function(){return d()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0430\u043d\u043a\u0435\u0442\u0443"})]})},xe=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(j.c)((function(e){return e.create.activeForm})),s=Object(i.g)(),u=Object(j.b)();Object(i.f)();function d(){$.getQuiz(s.id).then((function(e){a(!1),function(e){var t={header:e.header,questions:e.questions,activeForm:1,edit:!0,quizId:e._id};u((n=t,{type:_,payload:n}));var n}(e)})).catch((function(e){console.log(e)}))}return Object(c.useEffect)((function(){return s.id&&(a(!0),d()),function(){u(je())}}),[]),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-2",children:Object(o.jsx)(fe,{})}),Object(o.jsxs)("div",{className:"col-10",children:[Object(o.jsx)("div",{children:Object(o.jsx)(re.a,{type:"Plane",color:"#00BFFF",height:100,width:100,visible:n})}),Object(o.jsx)("div",{className:"d-flex",children:0===r?Object(o.jsx)(me,{}):Object(o.jsx)(pe,{})})]})]})},Oe=n(49),ve=n(12);ve.e.register(ve.d,ve.i,ve.b,ve.n,ve.o,ve.g);var ye=function(e){var t=[],n=[];e.answers.forEach((function(e){t.push(e.answerText),n.push(e.count)})),console.log(t),console.log(n);var c={labels:t,datasets:[{data:n,label:"\u0427\u0438\u0441\u043b\u043e \u043e\u0442\u0432\u0435\u0442\u043e\u0432",borderColor:"#3333ff",backgroundColor:"rgba(0, 0, 255, 0.5)",fill:!0}]};return Object(o.jsx)(Oe.a,{type:"bar",width:500,height:200,options:{scales:{x:{beginAtZero:!0,ticks:{callback:function(e){var t=this.getLabelForValue(e);return t.length>9?t.substr(0,6)+"...":t}}}}},data:c})},Ne=function(){var e=Object(i.g)(),t=Object(c.useState)({sum:0,result:[]}),n=Object(l.a)(t,2),a=n[0],r=n[1],s=function(){var t=Object(X.a)(W.a.mark((function t(){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("http://localhost:8080/api/results/".concat(e.id)).catch((function(e){console.log("Err",e)}));case 2:n=t.sent,console.log(n.data),r(n.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){s()}),[]),Object(o.jsxs)("div",{className:"row justify-content-md-center",children:[Object(o.jsx)("div",{className:"col-md-auto",children:Object(o.jsx)("h4",{children:"\u0410\u043d\u0430\u043b\u0438\u0437 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"})}),Object(o.jsxs)("p",{children:["\u0427\u0438\u0441\u043b\u043e \u043e\u0442\u0432\u0435\u0442\u043e\u0432: ",a.sum]}),Object(o.jsx)("div",{className:"d-flex flex-wrap",children:a.result.map((function(e,t){return Object(o.jsx)("form",{className:"m-auto d-inline-block mb-5 p-2 border border-primary rounded",children:Object(o.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(o.jsx)("p",{children:"".concat(e.questionNumber,". ").concat(e.questionText)}),Object(o.jsx)("div",{className:"w-100",children:Object(o.jsx)(ye,{answers:e.answers})})]},t)})}))})]})};var we=function(){var e=localStorage.getItem("token");return Object(o.jsxs)(s.a,{children:[Object(o.jsx)(u,{}),Object(o.jsx)("div",{className:"container pt-4",children:Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{path:"/",element:Object(o.jsx)(ie,{})}),Object(o.jsx)(i.a,{path:"/auth",element:Object(o.jsx)(le,{})}),e&&Object(o.jsx)(i.a,{path:"/quiz-creator",element:Object(o.jsx)(xe,{})}),Object(o.jsx)(i.a,{path:"/quiz/:id",element:Object(o.jsx)(te,{})}),Object(o.jsx)(i.a,{path:"/edit/:id",element:Object(o.jsx)(xe,{})}),Object(o.jsx)(i.a,{path:"/results/:id",element:Object(o.jsx)(Ne,{})}),e&&Object(o.jsx)(i.a,{path:"/add_user",element:Object(o.jsx)(de,{})})]})})]})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,102)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},qe=n(24),_e={quiz:{header:{name:"",description:""},questions:[]},quizAnswer:{quizId:"",answers:[{questionNumber:null,answer:[],otherText:""}]},alert:!1,emptyAnswers:[]},ke=n(14),Ee={header:{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043d\u043a\u0435\u0442\u044b",description:"\u0412\u0432\u043e\u0434\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0430\u043d\u043a\u0435\u0442\u044b"},questions:[{questionNumber:1,questionType:"single",required:!0,other:!1,title:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u0437\u0434\u0435\u0441\u044c...",text:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u043e\u0442\u0432\u0435\u0442",answers:["\u041e\u0442\u0432\u0435\u0442 1","\u041e\u0442\u0432\u0435\u0442 2","\u041e\u0442\u0432\u0435\u0442 3"],otherText:"\u0414\u0440\u0443\u0433\u043e\u0439..."}],activeForm:0,edit:!1,quizId:""},Te={quizes:[],delQuizId:""},ze=Object(qe.b)({quizes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(ke.a)(e,(function(e){e.quizes=t.payload}));case H:return Object(ke.a)(e,(function(e){e.delQuizId=t.payload}));default:return e}},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(ue.a)(Object(ue.a)({},e),{},{quizes:e.quizes.concat(t.payload)});case x:case v:return Object(ue.a)(Object(ue.a)({},e),{},{questions:t.payload});case O:return console.log(Ee),Object(ue.a)(Object(ue.a)({},e),{},{activeForm:t.payload});case N:return Object(ke.a)(e,(function(e){e.questions[t.payload.index].answers.push(t.payload.answer)}));case g:return Object(ke.a)(e,(function(e){e.questions[t.payload.indexQuestion].answers.splice(t.payload.indexAnswer,1)}));case w:case q:return Object(ke.a)(e,(function(e){e.questions[t.payload.index].other=t.payload.other}));case T:return Object(ke.a)(e,(function(e){e.questions[t.payload.index].title=t.payload.title}));case z:return Object(ke.a)(e,(function(e){e.questions[t.payload.index].text=t.payload.text}));case A:return Object(ke.a)(e,(function(e){e.questions[t.payload.indexQuestion].answers[t.payload.indexAnswer]=t.payload.answer}));case C:return Object(ke.a)(e,(function(e){e.questions[t.payload.index].questionType=t.payload.type}));case S:return Object(ke.a)(e,(function(e){e.questions[t.payload.index].required=t.payload.required}));case I:return Object(ke.a)(e,(function(e){e.questions[t.payload.index].otherText=t.payload.otherText}));case _:return Object(ke.a)(e,(function(e){e.header=t.payload.header,e.questions=t.payload.questions,e.activeForm=t.payload.activeForm,e.edit=t.payload.edit,e.quizId=t.payload.quizId}));case p:return Object(ke.a)(e,(function(e){e.header.name=t.payload}));case f:return Object(ke.a)(e,(function(e){e.header.description=t.payload}));case R:return Ee;default:return e}},activeQuiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(ue.a)(Object(ue.a)({},e),{},{quiz:t.payload});case y:return Object(ue.a)(Object(ue.a)({},e),{},{quizAnswer:Object(ue.a)(Object(ue.a)({},e.quizAnswer),{},{answers:t.payload})});case F:return Object(ue.a)(Object(ue.a)({},e),{},{quizAnswer:t.payload});case Q:return Object(ue.a)(Object(ue.a)({},e),{},{alert:t.payload});case D:return Object(ue.a)(Object(ue.a)({},e),{},{emptyAnswers:t.payload});default:return e}}}),Ce=n(48),Ae=Object(qe.d)((function(e,t){return ze(e,t)}),Object(qe.c)(Object(qe.a)(Ce.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Se=Object(o.jsx)(j.a,{store:Ae,children:Object(o.jsx)(we,{})});r.a.render(Se,document.getElementById("root")),ge()}},[[99,1,2]]]);
//# sourceMappingURL=main.2a506cec.chunk.js.map